# CSS Variables Manager –¥–ª—è Dental Academy

## –û–±–∑–æ—Ä

CSS Variables Manager - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Dental Academy, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º GrapesJS. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üé® –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ CSS —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–≤, –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ –∏ —Ç–µ–Ω–µ–π
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø–∞–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ undo/redo –æ–ø–µ—Ä–∞—Ü–∏–π

### üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GrapesJS
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ live preview

### üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### CSS Variables Manager (`static/js/css-variables-manager.js`)
–û—Å–Ω–æ–≤–Ω–æ–π JavaScript –º–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
CSSVariablesManager.init(editor, options)

// –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
CSSVariablesManager.loadVariables()

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
CSSVariablesManager.updateVariable(name, value)

// –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
CSSVariablesManager.exportSettings()

// –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
CSSVariablesManager.importSettings(data)
```

#### –°—Ç–∏–ª–∏ –ø–∞–Ω–µ–ª–∏ (`static/css/css-variables-panel.css`)
–°—Ç–∏–ª–∏ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤ —Å—Ç–∏–ª–µ glassmorphism.

### Backend API

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API endpoints

##### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–∞ —Å –ø–æ–ª–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º Jinja2
```http
GET /api/content-editor/template/<path:template_path>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "template": {
    "template_path": "learning/subject_view.html",
    "name": "subject_view.html",
    "content": "<!DOCTYPE html>...",
    "grapesjs_data": {...},
    "css_variables": {
      "--primary-color": "#3ECDC1",
      "--secondary-color": "#FF6B6B"
    },
    "jinja_logic": {
      "blocks": [...],
      "variables": [...],
      "macros": [...]
    },
    "metadata": {
      "file_size": 2048,
      "last_modified": "2025-07-02T00:30:00",
      "source": "file_system",
      "parsed_at": "2025-07-02T00:30:00"
    },
    "is_edited": false
  }
}
```

##### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π Jinja2
```http
POST /api/content-editor/save
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "template_path": "learning/subject_view.html",
  "name": "Updated Subject View",
  "grapesjs_data": {...},
  "css_variables": {...},
  "jinja_logic": {...},
  "metadata": {...},
  "convert_to_jinja2": true
}
```

##### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
```http
GET /api/content-editor/css-variables
POST /api/content-editor/css-variables
```

**GET –æ—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "css_variables": {
    "--primary-color": "#3ECDC1",
    "--secondary-color": "#FF6B6B",
    "--text-primary": "#2d3748",
    "--background-primary": "#ffffff"
  },
  "message": "CSS variables loaded successfully"
}
```

**POST —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "variables": {
    "--primary-color": "#4ECDC4",
    "--secondary-color": "#FF7B7B"
  }
}
```

##### 4. Live Preview
```http
POST /api/content-editor/live-preview
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "template_path": "learning/subject_view.html",
  "grapesjs_data": {...},
  "css_variables": {...},
  "jinja_logic": {...}
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "preview_html": "<!DOCTYPE html>...",
  "message": "Preview generated successfully"
}
```

##### 5. –î–µ–ø–ª–æ–π —à–∞–±–ª–æ–Ω–∞
```http
POST /api/content-editor/deploy
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "template_path": "learning/subject_view.html"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Template deployed successfully",
  "backup_path": "/backups/templates/subject_view_20250702_003000.html",
  "deployed_at": "2025-07-02T00:30:00"
}
```

## –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### CSSVariables (models.py)
```python
class CSSVariables(db.Model):
    __tablename__ = 'css_variables'
    
    id = db.Column(db.Integer, primary_key=True)
    language = db.Column(db.String(5), default='en', nullable=False, index=True)
    variables = db.Column(db.Text, nullable=False)  # JSON —Å—Ç—Ä–æ–∫–∞
    description = db.Column(db.Text, nullable=True)
    is_active = db.Column(db.Boolean, default=True, index=True)
    is_default = db.Column(db.Boolean, default=False, index=True)
    created_by = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)
    created_at = db.Column(db.DateTime, default=datetime.now(timezone.utc))
    updated_at = db.Column(db.DateTime, default=datetime.now(timezone.utc), onupdate=datetime.now(timezone.utc))
```

## –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### extract_project_css_variables()
–ò–∑–≤–ª–µ–∫–∞–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

### validate_template_path(template_path)
–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—É—Ç—å –∫ —à–∞–±–ª–æ–Ω—É –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### create_template_backup(template_path)
–°–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —à–∞–±–ª–æ–Ω–∞.

### convert_grapesjs_to_jinja2(grapesjs_data, jinja_logic)
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ GrapesJS –æ–±—Ä–∞—Ç–Ω–æ –≤ Jinja2 —à–∞–±–ª–æ–Ω.

### update_css_variables(variables)
–û–±–Ω–æ–≤–ª—è–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π CSS.

### generate_live_preview_html(grapesjs_data, css_variables, jinja_logic, lang)
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π HTML –¥–ª—è live preview.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jinja2 –ø–∞—Ä—Å–µ—Ä–æ–º

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å `Jinja2ToGrapesJSConverter`:

1. **–ü–∞—Ä—Å–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ Jinja2 –ª–æ–≥–∏–∫–∏
2. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É GrapesJS –∏ Jinja2 —Ñ–æ—Ä–º–∞—Ç–∞–º–∏
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
4. **–î–µ–ø–ª–æ–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ path traversal –∞—Ç–∞–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
```javascript
// –í enhanced_editor.html
CSSVariablesManager.init(editor, {
    apiEndpoint: '/api/content-editor/css-variables',
    language: '{{ lang }}'
});
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–∞
```javascript
fetch(`/api/content-editor/template/${templatePath}`)
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            editor.setComponents(data.template.grapesjs_data);
            CSSVariablesManager.setVariables(data.template.css_variables);
        }
    });
```

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```javascript
const saveData = {
    template_path: templatePath,
    grapesjs_data: editor.getComponents(),
    css_variables: CSSVariablesManager.getVariables(),
    jinja_logic: jinjaLogic,
    convert_to_jinja2: true
};

fetch('/api/content-editor/save', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(saveData)
});
```

### 4. Live Preview
```javascript
fetch('/api/content-editor/live-preview', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        grapesjs_data: editor.getComponents(),
        css_variables: CSSVariablesManager.getVariables()
    })
})
.then(response => response.json())
.then(data => {
    if (data.success) {
        previewWindow.document.write(data.preview_html);
    }
});
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:

```python
def get_error_message(error: str, lang: str = 'en') -> str:
    messages = {
        'en': {
            'template_not_found': 'Template not found',
            'invalid_request': 'Invalid request data',
            'save_failed': 'Failed to save template',
            'deploy_failed': 'Failed to deploy template',
            'preview_failed': 'Failed to generate preview'
        },
        'ru': {
            'template_not_found': '–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω',
            'invalid_request': '–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞',
            'save_failed': '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω',
            'deploy_failed': '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω',
            'preview_failed': '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä'
        }
    }
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç
- –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
- –°–∂–∞—Ç–∏–µ CSS –∏ HTML

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
1. –û–±–Ω–æ–≤–∏—Ç–µ `CSSVariablesManager.getVariableType()`
2. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –≤ UI
3. –û–±–Ω–æ–≤–∏—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ backend

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏
1. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `EditorInterface`
3. –û–±–Ω–æ–≤–∏—Ç–µ API endpoints

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤ `utils/template_parser.py`
2. –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–≥–∏–∫—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```python
def test_css_variables_extraction():
    variables = extract_project_css_variables()
    assert '--primary-color' in variables
    assert variables['--primary-color'] == '#3ECDC1'

def test_template_path_validation():
    is_valid, error = validate_template_path('learning/subject_view.html')
    assert is_valid == True
    assert error is None
```

### Integration —Ç–µ—Å—Ç—ã
```python
def test_css_variables_api():
    response = client.get('/api/content-editor/css-variables')
    assert response.status_code == 200
    data = response.get_json()
    assert data['success'] == True
    assert 'css_variables' in data
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

CSS Variables Manager –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–æ–π Dental Academy —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ GrapesJS —Ä–µ–¥–∞–∫—Ç–æ—Ä. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞. 