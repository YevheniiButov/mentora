# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è QR –∫–æ–¥–æ–≤

## –ß—Ç–æ —ç—Ç–æ?

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å** —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ QR –∫–æ–¥–∞ —á–ª–µ–Ω—Å–∫–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/profile/membership-card` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç toggle-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å:

**–í–∫–ª—é—á–µ–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- ‚úÖ –ü—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ QR –∫–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
  - –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è
  - –ü—Ä–æ—Ñ–µ—Å—Å–∏—è
  - Member ID
  - –¢–∏–ø —á–ª–µ–Ω—Å—Ç–≤–∞
  - –î–∞—Ç–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è  
  - Email (–∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω: `ab***@domain.com`)

**–í—ã–∫–ª—é—á–µ–Ω–æ (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–∂–∏–º):**
- üîí –ü—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ QR –∫–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º:
  - –¢–æ–ª—å–∫–æ Member ID
  - –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–∞–∫—Ç–∏–≤–Ω–æ/–∏—Å—Ç–µ–∫–ª–æ)
  - –°–æ–æ–±—â–µ–Ω–∏–µ: "This member has chosen to keep their profile information private"
  - –ò–∫–æ–Ω–∫–∞ –∑–∞–º–∫–∞

### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `profile_public` (Boolean, default=True) –≤ —Ç–∞–±–ª–∏—Ü—É `user`
- –ú–∏–≥—Ä–∞—Ü–∏—è: `migrations/versions/add_profile_public_field.py`

**Backend:**
- –ù–æ–≤—ã–π endpoint: `POST /membership/update-privacy`
- –ò–∑–º–µ–Ω–µ–Ω endpoint: `GET /membership/verify/<member_id>` - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `profile_public`
- –§–∞–π–ª: `routes/membership_routes.py`

**Frontend:**
- Toggle-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å –∫—Ä–∞—Å–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
- AJAX-–∑–∞–ø—Ä–æ—Å –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ (3 —Å–µ–∫—É–Ω–¥—ã)
- –§–∞–π–ª: `templates/membership/card.html`

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- Email –≤—Å–µ–≥–¥–∞ –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –¥–∞–∂–µ –≤ –ø—É–±–ª–∏—á–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –í –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤—Å—è –ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- Member ID –∏ —Å—Ç–∞—Ç—É—Å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã (–¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏)

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
flask db upgrade

# –ù–∞ Render - –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
# –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
python3 scripts/fix_migrations.py --force-sync
flask db upgrade
```

### 4. –ü–µ—Ä–µ–≤–æ–¥—ã

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ 8 —è–∑—ã–∫–æ–≤ (nl, en, ru, uk, es, pt, tr, fa):
- `privacy_settings` - "Privacy Settings"
- `allow_public_verification` - "Allow others to view..."
- `privacy_note` - "When disabled, only..."
- `profile_now_public` - "Your profile is now visible"
- `profile_now_private` - "Your profile is now private"
- `privacy_update_error` - "Error updating..."

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç toggle –≤–∫–ª—é—á–µ–Ω–Ω—ã–º
2. –ö—Ç–æ-—Ç–æ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥
3. –í–∏–¥–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–µ
4. –ú–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å—Å—è –ø–æ email (–∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–∫–ª—é—á–∞–µ—Ç toggle
2. –ü–æ—è–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π"
3. –ö—Ç–æ-—Ç–æ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥
4. –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ ID –∏ —Å—Ç–∞—Ç—É—Å "Verified Member"
5. –í—Å—è –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–∫—Ä—ã—Ç–∞

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –∫–∞–∂–¥—ã–π —Å–∞–º —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - email –≤—Å–µ–≥–¥–∞ –∑–∞—â–∏—â–µ–Ω  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç  
‚úÖ **UX** - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∫—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É–±–ª–∏—á–Ω–æ (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ)

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- [ ] –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏—é, –Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –∏–º—è)
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ QR –∫–æ–¥ –±—ã–ª –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ QR –∫–æ–¥–∞

