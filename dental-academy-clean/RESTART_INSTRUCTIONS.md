# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º—ã 404 –¥–ª—è /en/, /uk/, /ru/, /nl/

## –ü—Ä–æ–±–ª–µ–º–∞
–ú–∞—Ä—à—Ä—É—Ç—ã `/en/`, `/uk/`, `/ru/`, `/nl/` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404, —Ö–æ—Ç—è —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –≤–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–¥:
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `route_by_domain` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—É—Ç–µ–π —Å –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º —Å–ª—ç—à–µ–º
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `before_request_main` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –∏–∑ –ø—É—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é
3. ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã `before_request` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
4. ‚úÖ `main_bp` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
```bash
./force_restart.sh
python3 app.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é:**
   ```bash
   # –ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω Flask
   # –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏ —É–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å:
   ps aux | grep "python.*app.py\|flask run"
   kill <PID>
   ```

2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Python:**
   ```bash
   find . -type d -name __pycache__ -not -path "./venv/*" -exec rm -rf {} + 2>/dev/null
   find . -name "*.pyc" -not -path "./venv/*" -delete 2>/dev/null
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   python3 app.py
   ```
   –∏–ª–∏
   ```bash
   flask run --port=5002 --host=127.0.0.1 --reload
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**
   ```bash
   python3 check_routes.py
   ```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
/en/: Status: 200
/uk/: Status: 200
/ru/: Status: 200
/nl/: Status: 200
```

## üîç –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω:
   ```bash
   ps aux | grep "python.*app.py"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `/en/`:
   - –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è `route_by_domain` –∏ `before_request_main`

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –ø—Ä–æ–∫—Å–∏/nginx –ø–µ—Ä–µ–¥ Flask:
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è nginx, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç:
   ```bash
   curl http://127.0.0.1:5002/en/
   ```

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- `main_bp` –∏–º–µ–µ—Ç `url_prefix='/<string:lang>'`
- –ú–∞—Ä—à—Ä—É—Ç `@main_bp.route('/', strict_slashes=False)` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `/<lang>/`
- `before_request_main` —Ç–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ–∫–∞–µ—Ç —è–∑—ã–∫ –∏–∑ –ø—É—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é
- `route_by_domain` –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è localhost


