# üîß –í–∞—Ä–∏–∞–Ω—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìã **–î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ –∫ —É–¥–∞–ª–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

### **1. üóëÔ∏è –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (`delete_user_safely.py`)**
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** –£–¥–∞–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + –í–°–ï –µ–≥–æ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü–æ—Å—Ç—ã —Ñ–æ—Ä—É–º–∞ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ —É–¥–∞–ª—è—é—Ç—Å—è  
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∏—Ä–∞–µ—Ç—Å—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å —Å–ª–µ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **2. üë§ –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è (`delete_user_keep_data.py`)**
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** –£–¥–∞–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–æ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ
- ‚úÖ –ü–æ—Å—Ç—ã —Ñ–æ—Ä—É–º–∞ —É–¥–∞–ª—è—é—Ç—Å—è (author_id –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
- ‚úÖ –õ–∞–π–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è (user_id –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –æ—Å—Ç–∞—é—Ç—Å—è —Å user_id = NULL
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üöÄ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

### **–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:**
```bash
python3 delete_user_safely.py 70
```

### **–ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
```bash
python3 delete_user_keep_data.py 70
```

### **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
python3 delete_user_keep_data.py show 70
```

## üìä **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏:**

| –¢–∞–±–ª–∏—Ü–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ |
|---------|----------|---------|
| `registration_visitors` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `forum_posts` | **–£–¥–∞–ª—è—é—Ç—Å—è** | `author_id` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `forum_post_likes` | **–£–¥–∞–ª—è—é—Ç—Å—è** | `user_id` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `forum_topic_likes` | **–£–¥–∞–ª—è—é—Ç—Å—è** | `user_id` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `forum_topics` | **–£–¥–∞–ª—è—é—Ç—Å—è** | `author_id` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `test_results` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `test_sessions` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `registration_logs` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `user_activity` | **–£–¥–∞–ª—è—é—Ç—Å—è** | –û–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω—ã –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è |
| `user_achievement` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `user_progress` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |
| `contact` | `user_id = NULL` | –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL |

## ‚ö†Ô∏è **–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

### **–§–æ—Ä—É–º:**
- **–ü–æ—Å—Ç—ã –∏ —Ç–µ–º—ã —É–¥–∞–ª—è—é—Ç—Å—è** - –∏–Ω–∞—á–µ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–õ–∞–π–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è** - –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–Ω–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã

### **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** - –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** - –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è** - –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–Ω–æ–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è** - —É–±–∏—Ä–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—é, –µ—Å–ª–∏:**
- –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–∞–∂–Ω—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- –•–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–±—Å—É–∂–¥–µ–Ω–∏–π (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ, –µ—Å–ª–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (GDPR)
- –ù—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–µ—Ä–µ—Ç—å —Å–ª–µ–¥—ã
- –î–∞–Ω–Ω—ã–µ –Ω–µ –≤–∞–∂–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**

–ü–æ—Å–ª–µ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
```sql
-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ —Å—Ç–∞–ª–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏
SELECT COUNT(*) FROM test_results WHERE user_id IS NULL;

-- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è —Å—Ç–∞–ª –∞–Ω–æ–Ω–∏–º–Ω—ã–º  
SELECT COUNT(*) FROM user_progress WHERE user_id IS NULL;

-- –ü–æ—Å—Ç—ã —Ñ–æ—Ä—É–º–∞ —É–¥–∞–ª–µ–Ω—ã
SELECT COUNT(*) FROM forum_posts WHERE author_id = 70; -- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
```
