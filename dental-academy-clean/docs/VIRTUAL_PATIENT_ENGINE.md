# ü©∫ –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–≤–∏–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
5. [–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è](#–ø—Ä–æ—Ü–µ—Å—Å-–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è)
6. [–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏](#—Å–∏—Å—Ç–µ–º–∞-–æ—Ü–µ–Ω–∫–∏)
7. [API Endpoints](#api-endpoints)
8. [Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#frontend-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
9. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏-—Å–µ—Å—Å–∏—è–º–∏)
10. [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–∏-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)

---

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–î–≤–∏–∂–æ–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ (Virtual Patient Engine) ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥–∏ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ü–µ–Ω–∫–∏
- ‚úÖ –í–æ–ø—Ä–æ—Å—ã —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–ø—É—Å–∫–æ–≤ (fill-in questions)
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏ –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (9 —è–∑—ã–∫–æ–≤)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Frontend Layer                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  VirtualPatientDialogue (vp-dialogue.js)                ‚îÇ
‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–º                                  ‚îÇ
‚îÇ  - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —É–∑–ª–æ–≤ –∏ –æ–ø—Ü–∏–π                              ‚îÇ
‚îÇ  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                        ‚îÇ
‚îÇ  - –í–∞–ª–∏–¥–∞—Ü–∏—è fill-in –≤–æ–ø—Ä–æ—Å–æ–≤                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    API Layer                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  routes/virtual_patient_daily.py                        ‚îÇ
‚îÇ  - /api/vp/daily-scenario                               ‚îÇ
‚îÇ  - /api/vp/start-attempt                                ‚îÇ
‚îÇ  - /api/vp/save-choice                                  ‚îÇ
‚îÇ  - /api/vp/validate-fill-in                             ‚îÇ
‚îÇ  - /api/vp/complete-attempt                             ‚îÇ
‚îÇ  - /api/vp/my-statistics                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Business Logic Layer                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  utils/virtual_patient_utils.py                         ‚îÇ
‚îÇ  - VirtualPatientSelector                               ‚îÇ
‚îÇ  - VirtualPatientSessionManager                         ‚îÇ
‚îÇ  - VirtualPatientDailyIntegration                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Data Layer                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  models.py                                               ‚îÇ
‚îÇ  - VirtualPatientScenario                               ‚îÇ
‚îÇ  - VirtualPatientAttempt                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üíæ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### VirtualPatientScenario

**–¢–∞–±–ª–∏—Ü–∞:** `virtual_patient_scenario`

**–ü–æ–ª—è:**
- `id` (Integer, PK) - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` (String) - –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
- `description` (Text) - –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
- `difficulty` (String) - –°–ª–æ–∂–Ω–æ—Å—Ç—å: `easy`, `medium`, `hard`
- `category` (String) - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `diagnosis`, `treatment`, `emergency`
- `max_score` (Integer) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
- `is_premium` (Boolean) - –ü—Ä–µ–º–∏—É–º –∫–æ–Ω—Ç–µ–Ω—Ç
- `is_published` (Boolean) - –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–π
- `scenario_data` (Text, JSON) - **–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏—è** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∏–∂–µ)
- `specialty` (String) - –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: `dentistry`, `general_practice`, `pharmacy`, `nursing`
- `target_keywords` (Text, JSON) - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
- `last_played_date` (DateTime) - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
- `created_at` (DateTime) - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–ú–µ—Ç–æ–¥—ã:**
- `localized_data` (property) - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ
- `keywords_list` (property) - –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- `is_available_for_user(user)` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `mark_played()` - –û—Ç–º–µ—Ç–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –∫–∞–∫ —Å—ã–≥—Ä–∞–Ω–Ω—ã–π

### VirtualPatientAttempt

**–¢–∞–±–ª–∏—Ü–∞:** `virtual_patient_attempt`

**–ü–æ–ª—è:**
- `id` (Integer, PK) - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` (Integer, FK) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `scenario_id` (Integer, FK) - ID —Å—Ü–µ–Ω–∞—Ä–∏—è
- `score` (Integer) - –ù–∞–±—Ä–∞–Ω–Ω—ã–π –±–∞–ª–ª
- `max_score` (Integer) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª
- `completed` (Boolean) - –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –ø–æ–ø—ã—Ç–∫–∞
- `time_spent` (Float) - –í—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö
- `started_at` (DateTime) - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- `completed_at` (DateTime) - –í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- `dialogue_history` (Text, JSON) - –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞
- `fill_in_answers` (Text, JSON) - –û—Ç–≤–µ—Ç—ã –Ω–∞ fill-in –≤–æ–ø—Ä–æ—Å—ã
- `fill_in_score` (Integer) - –ë–∞–ª–ª –∑–∞ fill-in –≤–æ–ø—Ä–æ—Å—ã

**–ú–µ—Ç–æ–¥—ã:**
- `percentage_score` (property) - –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–ª–∞
- `fill_in_answers_dict` (property) - –°–ª–æ–≤–∞—Ä—å –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ fill-in
- `add_fill_in_answer(node_id, answer)` - –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ fill-in

---

## üìê –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –§–æ—Ä–º–∞—Ç JSON –¥–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è (`scenario_data`):

```json
{
  "patient_info": {
    "name": "Jan De Wit",
    "age": 45,
    "gender": "male",
    "medical_history": "Generally healthy...",
    "allergies": ["penicillin"],
    "symptoms": ["toothache", "swelling"],
    "vital_signs": {
      "blood_pressure": "120/80",
      "heart_rate": 72,
      "temperature": 36.6
    }
  },
  "initial_state": {
    "patient_statement": "Hello doctor. I have a terrible toothache.",
    "patient_emotion": "anxious",
    "notes": "Patient presents with acute pain..."
  },
  "dialogue_nodes": [
    {
      "id": "node_start",
      "title": "Initial questioning",
      "patient_statement": "It hurts here...",
      "body_language": "Patient points to lower jaw",
      "options": [
        {
          "id": "option_1",
          "text": "Can you describe the pain?",
          "next_node": "node_pain_description",
          "score": 10,
          "trade_offs": {
            "empathy": "+20",
            "trust": "+15",
            "cooperation": "+10"
          },
          "feedback": "Good open-ended question"
        }
      ],
      "fill_in": {
        "word": "paracetamol",
        "question": "What medication would you prescribe?",
        "hint": "Common painkiller starting with 'p'"
      },
      "event_type": "delayed_consequence",
      "outcome": "good"
    }
  ],
  "outcomes": {
    "excellent": {
      "title": "Excellent Result",
      "text": "Outstanding performance!",
      "description": "You handled the case perfectly."
    },
    "good": {
      "title": "Good Result",
      "text": "Well done!",
      "description": "You made good clinical decisions."
    },
    "average": {
      "title": "Average Result",
      "text": "Not bad, but room for improvement.",
      "description": "Some decisions could be better."
    },
    "poor": {
      "title": "Poor Result",
      "text": "Needs improvement.",
      "description": "Review the case and try again."
    }
  },
  "translations": {
    "nl": { /* –¥–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–∏–¥–µ—Ä–ª–∞–Ω–¥—Å–∫–æ–º */ },
    "en": { /* –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º */ },
    "ru": { /* –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º */ }
  }
}
```

### –¢–∏–ø—ã —É–∑–ª–æ–≤ –¥–∏–∞–ª–æ–≥–∞:

1. **–û–±—ã—á–Ω—ã–π —É–∑–µ–ª —Å –æ–ø—Ü–∏—è–º–∏** (`options`)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
   - –ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è –∏–º–µ–µ—Ç `score`, `next_node`, `trade_offs`
   - –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –ø–æ `next_node`

2. **–£–∑–µ–ª —Å fill-in –≤–æ–ø—Ä–æ—Å–æ–º** (`fill_in`)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å–ª–æ–≤–æ/—Ç–µ—Ä–º–∏–Ω
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ backend –∏–ª–∏ frontend
   - –ë–∞–ª–ª—ã –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (10 –∑–∞ —Ç–æ—á–Ω—ã–π, 5 –∑–∞ —á–∞—Å—Ç–∏—á–Ω—ã–π)

3. **–§–∏–Ω–∞–ª—å–Ω—ã–π —É–∑–µ–ª** (`is_outcome: true` –∏–ª–∏ `outcome`)
   - –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å: `excellent`, `good`, `average`, `poor`

4. **Event —É–∑–µ–ª** (`event_type`)
   - `delayed_consequence` - –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ
   - `catastrophic_outcome` - –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏–π –∏—Å—Ö–æ–¥
   - `random_event` - —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

### 1. –í—ã–±–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ (`VirtualPatientSelector.get_daily_scenario`):**

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - –ò–∑ –ø–æ–ª—è `user.specialty`
   - –ò–ª–∏ –∏–∑ `user.profession` —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥:
     - `tandarts` ‚Üí `dentistry`
     - `huisarts` ‚Üí `general_practice`
     - `apotheker` ‚Üí `pharmacy`
     - `verpleegkundige` ‚Üí `nursing`

2. –ü–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
   - –§–∏–ª—å—Ç—Ä: `specialty == user.specialty` AND `is_published == True`
   - Fallback: –µ—Å–ª–∏ –Ω–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, –∏—â—É—Ç—Å—è –≤—Å–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ

3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –¥–Ω—è
   - –ï—Å–ª–∏ –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–µ–¥–∞–≤–Ω–æ —Å—ã–≥—Ä–∞–Ω—ã ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π –∏–∑ –≤—Å–µ—Ö

4. –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö

5. –û—Ç–º–µ—Ç–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è –∫–∞–∫ —Å—ã–≥—Ä–∞–Ω–Ω–æ–≥–æ (`mark_played()`)

### 2. –ù–∞—á–∞–ª–æ –ø–æ–ø—ã—Ç–∫–∏

**–ü—Ä–æ—Ü–µ—Å—Å (`VirtualPatientSessionManager.start_attempt`):**

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è
3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ `VirtualPatientAttempt`:
   - `user_id` = —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - `scenario_id` = –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
   - `max_score` = –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏—è
   - `started_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
   - `score` = 0
   - `completed` = False

4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –∏ –≤–æ–∑–≤—Ä–∞—Ç `attempt_id`

### 3. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞

**Frontend –ø—Ä–æ—Ü–µ—Å—Å (`VirtualPatientDialogue`):**

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è —á–µ—Ä–µ–∑ `/api/vp/daily-scenario`
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ —á–µ—Ä–µ–∑ `/api/vp/start-attempt`
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ü–∏–µ–Ω—Ç–µ
   - –ü–æ–∫–∞–∑ `initial_state.patient_statement`

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–∞:**
   - –ü–æ–∏—Å–∫ —É–∑–ª–∞ –ø–æ `node_id` –≤ `dialogue_nodes`
   - –ï—Å–ª–∏ —É–∑–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ `outcomes`
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `patient_statement` (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
     - –û–ø—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ (`renderOptions`)
     - Fill-in –≤–æ–ø—Ä–æ—Å (`renderFillIn`)
     - –§–∏–Ω–∞–ª—å–Ω—ã–π outcome (`handleOutcome`)

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ü–∏—é –∏–ª–∏ –≤–≤–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç
   - –†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤:
     - –ò–∑ `option.score` (–µ—Å–ª–∏ –µ—Å—Ç—å)
     - –ò–ª–∏ –∏–∑ `option.trade_offs` (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —á–µ—Ä–µ–∑ `/api/vp/save-choice`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
   - –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –ø–æ `next_node`

4. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤ (`visitedNodes` Map)
   - –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ—Å–µ—â–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

5. **–í–∞–ª–∏–¥–∞—Ü–∏—è fill-in:**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ `/api/vp/validate-fill-in`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (10 –±–∞–ª–ª–æ–≤) –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ–µ (5 –±–∞–ª–ª–æ–≤)
   - –ü–æ–∫–∞–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
   - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è

**–ü—Ä–æ—Ü–µ—Å—Å (`completeScenario`):**

1. –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è (–≤ –º–∏–Ω—É—Ç–∞—Ö)
2. –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ `/api/vp/complete-attempt`:
   - `attempt_id`
   - `score` (–æ–±—â–∏–π: dialogue + fill-in)
   - `time_spent`
   - `dialogue_history`

3. Backend –æ–±—Ä–∞–±–æ—Ç–∫–∞ (`VirtualPatientSessionManager.complete_attempt`):
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `VirtualPatientAttempt`:
     - `score` = –Ω–∞–±—Ä–∞–Ω–Ω—ã–π –±–∞–ª–ª
     - `completed` = True
     - `completed_at` = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
     - `time_spent` = –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
     - `dialogue_history` = JSON –∏—Å—Ç–æ—Ä–∏—è
   - –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞: `(score / max_score) * 100`
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞:
     - `percentage >= 80` ‚Üí `is_mastered = True`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ (`update_item_mastery`)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
   - –£—Ä–æ–≤–µ–Ω—å: `excellent` (‚â•85%), `good` (‚â•70%), `needs_improvement` (‚â•50%), `poor` (<50%)
   - –î–µ—Ç–∞–ª—å–Ω—ã–π feedback –ø–æ –∫–∞–∂–¥–æ–º—É –≤—ã–±–æ—Ä—É
   - Timeline —Å —Ö–æ—Ä–æ—à–∏–º–∏ –∏ –ø–ª–æ—Ö–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

---

## üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏

### –†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤

#### 1. –ë–∞–ª–ª—ã –∑–∞ –≤—ã–±–æ—Ä –æ–ø—Ü–∏–∏:

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1:** –Ø–≤–Ω—ã–π `score` –≤ –æ–ø—Ü–∏–∏
```json
{
  "text": "Can you describe the pain?",
  "score": 10
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2:** –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–∑ `trade_offs`
```json
{
  "text": "I understand your concern...",
  "trade_offs": {
    "empathy": "+20",
    "trust": "+15",
    "cooperation": "+10"
  }
}
```

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:**
1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `trade_offs`
2. –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
   - `"+40"` ‚Üí 40
   - `"+HIGH"` ‚Üí 40
   - `"+MODERATE"` ‚Üí 20
   - `"+LOW"` ‚Üí 10
3. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ: `sum(values) / count(values)`
4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: `average * 1.5`
5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞: `0-30`

#### 2. –ë–∞–ª–ª—ã –∑–∞ fill-in –≤–æ–ø—Ä–æ—Å—ã:

- **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** (case-insensitive): **10 –±–∞–ª–ª–æ–≤**
- **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** (—Å–ª–æ–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–µ –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç): **5 –±–∞–ª–ª–æ–≤**
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç**: **0 –±–∞–ª–ª–æ–≤** (–Ω–æ —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è)

#### 3. –ò—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–ª:

```
total_score = dialogue_score + fill_in_score
percentage = (total_score / max_score) * 100
```

### –£—Ä–æ–≤–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

- **Excellent** (‚â•85%): –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- **Good** (‚â•70%): –•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- **Needs Improvement** (‚â•50%): –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å—Ç—å –æ—à–∏–±–∫–∏
- **Poor** (<50%): –ü–ª–æ—Ö–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ

---

## üîå API Endpoints

### `GET /api/vp/daily-scenario`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "scenario": {
    "id": 1,
    "title": "Perikoronitis",
    "description": "Patient with wisdom tooth pain",
    "difficulty": "medium",
    "max_score": 120,
    "keywords": ["verstandskies", "pericoronitis"],
    "scenario_data": { /* –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è */ }
  }
}
```

### `POST /api/vp/start-attempt`
–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–ø—ã—Ç–∫—É –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "scenario_id": 1
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "attempt_id": 123,
  "scenario_id": 1,
  "max_score": 120
}
```

### `POST /api/vp/save-choice`
–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥–∏–∞–ª–æ–≥–µ

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "attempt_id": 123,
  "option_id": "option_1",
  "score": 10,
  "next_node": "node_pain_description",
  "dialogue_history": [
    {
      "node_id": "node_start",
      "choice_id": "option_1",
      "choice_text": "Can you describe the pain?",
      "score": 10,
      "timestamp": "2025-01-15T10:30:00Z"
    }
  ]
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "current_score": 10,
  "fill_in_score": 0,
  "next_node": "node_pain_description"
}
```

### `POST /api/vp/validate-fill-in`
–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ fill-in –≤–æ–ø—Ä–æ—Å

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "attempt_id": 123,
  "node_id": "node_medication",
  "user_answer": "paracetamol"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "valid": true,
  "score": 10,
  "message": "Correct! Goed gedaan!",
  "correct_answer": "paracetamol"
}
```

### `POST /api/vp/complete-attempt`
–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "attempt_id": 123,
  "score": 85,
  "time_spent": 15.5,
  "dialogue_history": [ /* –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è */ ]
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Attempt completed successfully",
  "attempt": {
    "id": 123,
    "score": 85,
    "max_score": 120,
    "percentage": 71,
    "percentage_score": 71,
    "level": "good",
    "total_score": 85,
    "fill_in_score": 0,
    "feedback": "Goed gedaan!"
  }
}
```

### `GET /api/vp/my-statistics`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "statistics": {
    "total_attempts": 15,
    "completed_attempts": 12,
    "completion_rate": 80.0,
    "average_score": 75.5,
    "best_score": 95,
    "unique_scenarios": 8,
    "recent_attempts": 3
  }
}
```

---

## üé® Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### VirtualPatientDialogue (vp-dialogue.js)

**–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–º:**

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- `loading` - –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
- `playing` - –ê–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
- `complete` - –°—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**

1. **`init(scenarioId, attemptId)`**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
   - –°–æ–∑–¥–∞–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ø—ã—Ç–∫–∏
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - –ü–æ–∫–∞–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

2. **`displayNode(nodeId, showPatientStatement)`**
   - –ü–æ–∏—Å–∫ —É–∑–ª–∞ –≤ `dialogue_nodes` –∏–ª–∏ `outcomes`
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `patient_statement`
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–æ–ø—Ü–∏–∏/fill-in/outcome)

3. **`selectOption(option, node)`**
   - –†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –Ω–∞ backend
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
   - –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤

4. **`validateFillIn(input, node, fillInConfig)`**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ backend
   - Fallback –Ω–∞ frontend –≤–∞–ª–∏–¥–∞—Ü–∏—é
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤
   - –ü–æ–∫–∞–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
   - –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è

5. **`completeScenario()`**
   - –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ backend
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

6. **`generateDetailedFeedback()`**
   - –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—ã–±–æ—Ä–æ–≤ –ø–æ —É–∑–ª–∞–º
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–æ—Ä–æ—à–∏—Ö/–ø–ª–æ—Ö–∏—Ö —Ä–µ—à–µ–Ω–∏–π
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ feedback

**–ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤ (`visitedNodes` Map)
- –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ—Å–µ—â–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `next_node !== current_node`

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏

### VirtualPatientDailyIntegration

**–ú–µ—Ç–æ–¥—ã:**

1. **`get_daily_vp_session(user)`**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è —á–µ—Ä–µ–∑ `VirtualPatientSelector.get_daily_scenario`
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–µ—Å—Å–∏–∏

2. **`integrate_with_daily_learning(user, existing_sessions)`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ —Å–ø–∏—Å–æ–∫ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
   - –§–æ—Ä–º–∞—Ç —Å–µ—Å—Å–∏–∏:
     ```json
     {
       "id": "vp_1",
       "type": "virtual_patient",
       "title": "Virtual Patient: Perikoronitis",
       "description": "...",
       "difficulty": "medium",
       "estimated_duration": 15,
       "scenario_id": 1,
       "max_score": 120,
       "keywords": ["verstandskies", "pericoronitis"],
       "status": "ready"
     }
     ```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–∞—Ä—Ç—É –æ–±—É—á–µ–Ω–∏—è

–í–∫–ª–∞–¥–∫–∞ "–û–±—É—á–µ–Ω–∏–µ" (Individual Plan) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏, –µ—Å–ª–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—à–µ–ª –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
- –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°—Ü–µ–Ω–∞—Ä–∏–π –Ω–µ –±—ã–ª –ø—Ä–æ–π–¥–µ–Ω –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –¥–Ω—è

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- **–ü–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:** –°—Ü–µ–Ω–∞—Ä–∏–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–æ –∏—Å—Ç–æ—Ä–∏–∏:** –ò–∑–±–µ–≥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (3 –¥–Ω—è)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä:** –ï—Å–ª–∏ –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–µ–¥–∞–≤–Ω–æ —Å—ã–≥—Ä–∞–Ω—ã, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π

### 2. –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 9 —è–∑—ã–∫–æ–≤ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `translations` –≤ `scenario_data`:
  ```json
  {
    "translations": {
      "nl": { /* –Ω–∏–¥–µ—Ä–ª–∞–Ω–¥—Å–∫–∏–π */ },
      "en": { /* –∞–Ω–≥–ª–∏–π—Å–∫–∏–π */ },
      "ru": { /* —Ä—É—Å—Å–∫–∏–π */ }
    }
  }
  ```
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `user.language` –∏–ª–∏ `session['lang']`

### 3. –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏

- **–ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –∏ —ç–º–ø–∞—Ç–∏—è, –¥–æ–≤–µ—Ä–∏–µ, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ
- **Trade-offs:** –ö–∞–∂–¥—ã–π –≤—ã–±–æ—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **Fill-in –≤–æ–ø—Ä–æ—Å—ã:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –∑–∞ –∑–Ω–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏

### 4. –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

- **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤, –º–∞–∫—Å–∏–º—É–º 2 –ø–æ—Å–µ—â–µ–Ω–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —É–∑–ª–æ–≤:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è `next_node`
- **Fallback –ª–æ–≥–∏–∫–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É–∑–ª–æ–≤

### 5. –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

- **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞:** –ü–æ–ª–Ω–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö –≤—ã–±–æ—Ä–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–î–µ—Ç–∞–ª—å–Ω—ã–π feedback:** –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ö–æ—Ä–æ—à–∏—Ö/–ø–ª–æ—Ö–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª, –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ–º:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã `ItemMastery` –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

### 6. UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–Ω–∏–º–∞—Ü–∏–∏:** –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è:** Responsive –¥–∏–∑–∞–π–Ω, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- **–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:** –í—ã–±–æ—Ä –æ–ø—Ü–∏–π —Ü–∏—Ñ—Ä–∞–º–∏ 1-9
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä:** –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–±—É—á–µ–Ω–∏—è

- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è
- **–°–∏—Å—Ç–µ–º–∞ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ ‚â•80%
- **–ê—Ä—Ö–∏–≤:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –∫–∞—Ä—Ç–µ –æ–±—É—á–µ–Ω–∏—è:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –ø–∞—Ü–∏–µ–Ω—Ç–∞–º

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Backend:** Flask, SQLAlchemy, Flask-Login
- **Frontend:** Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL/MySQL (—á–µ—Ä–µ–∑ SQLAlchemy)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:** –ú–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î (—Ç–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** –î–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞:** –í—Å–µ API endpoints –ø—Ä–æ–≤–µ—Ä—è—é—Ç `attempt.user_id == current_user.id`
- **CSRF –∑–∞—â–∏—Ç–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Flask-WTF CSRF —Ç–æ–∫–µ–Ω–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ backend
- **SQL Injection –∑–∞—â–∏—Ç–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ORM SQLAlchemy

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
   - –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
   - –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª
   - –õ—É—á—à–∏–π –±–∞–ª–ª
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - –ü–æ–ø—ã—Ç–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π

2. **–°—Ü–µ–Ω–∞—Ä–∏–π–Ω—ã–µ:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π
   - –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é
   - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
   - –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

3. **–°–∏—Å—Ç–µ–º–Ω—ã–µ:**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

---

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏, —Ä–µ–π—Ç–∏–Ω–≥–∏)
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- [ ] –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (—Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ)
- [ ] –í–∏–¥–µ–æ/–∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è (—á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å):

1. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí Virtual Patients ‚Üí Create New
2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (title, description, specialty, difficulty)
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ü–∏–µ–Ω—Ç–µ (name, age, gender, medical_history)
4. –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤ –¥–∏–∞–ª–æ–≥–∞ —Å –æ–ø—Ü–∏—è–º–∏
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ outcomes –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
6. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è

### –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É –æ–±—É—á–µ–Ω–∏—è
2. –í –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∞—Ü–∏–µ–Ω—Ç
3. –ö–ª–∏–∫ –Ω–∞ –∑–∞–¥–∞—á—É ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
4. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ü–∏–µ–Ω—Ç–µ
5. –ù–∞—á–∞–ª–æ –¥–∏–∞–ª–æ–≥–∞ —Å –≤—ã–±–æ—Ä–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
6. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —É–∑–ª–æ–≤ –¥–∏–∞–ª–æ–≥–∞
7. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º feedback

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 15 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

