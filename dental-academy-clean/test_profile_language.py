#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è
"""

import requests
import time

def test_profile_language_switching():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è"""
    
    base_url = "http://localhost:5002"
    
    # –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    profile_pages = [
        "/profile",
        "/profile/personal-info", 
        "/profile/documents",
        "/profile/settings",
        "/profile/security",
        "/profile/statistics"
    ]
    
    # –°–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    languages = ['nl', 'en', 'ru', 'uk', 'es', 'pt', 'fa', 'tr']
    
    print("üîç –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –Ø–ó–´–ö–ê –ù–ê –°–¢–†–ê–ù–ò–¶–ê–• –ü–†–û–§–ò–õ–Ø")
    print("=" * 70)
    
    # –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è (—ç—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç)
    print("‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: –≠—Ç–æ—Ç —Ç–µ—Å—Ç —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    print("   –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –∑–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –Ω–∞ http://localhost:5002")
    print("   –ó–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    input()
    
    for page in profile_pages:
        print(f"\nüìÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É: {page}")
        print("-" * 50)
        
        for lang in languages:
            url = f"{base_url}{page}?lang={lang}"
            try:
                response = requests.get(url, timeout=5)
                if response.status_code == 200:
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ HTML —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫
                    if f'lang="{lang}"' in response.text or f"lang={lang}" in response.text:
                        print(f"  ‚úÖ {lang.upper()}: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, —è–∑—ã–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
                    else:
                        print(f"  ‚ö†Ô∏è  {lang.upper()}: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –Ω–æ —è–∑—ã–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º")
                elif response.status_code == 302:
                    print(f"  üîÑ {lang.upper()}: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–≤–æ–∑–º–æ–∂–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)")
                else:
                    print(f"  ‚ùå {lang.upper()}: –û—à–∏–±–∫–∞ {response.status_code}")
                    
            except requests.exceptions.RequestException as e:
                print(f"  ‚ùå {lang.upper()}: –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è - {e}")
            
            time.sleep(0.5)  # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
    
    print("\n" + "=" * 70)
    print("‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
    print("\nüí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
    print("   1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç")
    print("   2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞ URL –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è")
    print("   3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è")

if __name__ == "__main__":
    test_profile_language_switching()
