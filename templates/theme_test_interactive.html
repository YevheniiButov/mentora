<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–µ–º —Å Interactive Subtopic</title>
    
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- –°–ò–°–¢–ï–ú–ê –¢–ï–ú (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–≤–æ–π) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/themes/themes.css') }}">
    
    <!-- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/universal-layout-system.css') }}">
    
    <!-- –°–¢–†–ê–ù–ò–ß–ù–´–ï –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/learning_map.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/interactive_subtopic.css') }}">
    
    <style>
        .test-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--theme-surface);
            border-radius: 12px;
            box-shadow: 0 4px 6px var(--theme-shadow);
        }
        
        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 0.5rem;
        }
        
        .theme-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .theme-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .theme-btn:not(.active) {
            background: var(--theme-surface);
            color: var(--theme-text);
            border: 1px solid var(--theme-border);
        }
        
        .debug-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: monospace;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º -->
    <div class="theme-switcher">
        <button class="theme-btn active" onclick="switchTheme('light')">‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è</button>
        <button class="theme-btn" onclick="switchTheme('dark')">üåô –¢–µ–º–Ω–∞—è</button>
        <button class="theme-btn" onclick="switchTheme('gradient')">üåà –ì—Ä–∞–¥–∏–µ–Ω—Ç</button>
    </div>

    <div class="test-container">
        <h1>üé® –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–µ–º —Å Interactive Subtopic</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–ø—Ü–∏–π –≤–æ –≤—Å–µ—Ö —Ç–µ–º–∞—Ö</p>
        
        <div class="universal-card">
            <h3>–¢–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</h3>
            <p>–ö–∞–∫–æ–π –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –¥–ª—è –ª–µ—á–µ–Ω–∏—è –∫–∞—Ä–∏–µ—Å–∞?</p>
            
            <div class="test-options">
                <div class="test-option" data-correct="false" data-index="0">
                    <span class="option-letter">A</span>
                    <span class="option-text">–§—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑—É–±–æ–≤</span>
                </div>
                <div class="test-option" data-correct="false" data-index="1">
                    <span class="option-letter">B</span>
                    <span class="option-text">–†–µ–≥—É–ª—è—Ä–Ω–∞—è —á–∏—Å—Ç–∫–∞ –∑—É–±–æ–≤</span>
                </div>
                <div class="test-option" data-correct="true" data-index="2">
                    <span class="option-letter">C</span>
                    <span class="option-text">–ü–ª–æ–º–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä–∏–æ–∑–Ω—ã—Ö –ø–æ–ª–æ—Å—Ç–µ–π</span>
                </div>
                <div class="test-option" data-correct="false" data-index="3">
                    <span class="option-letter">D</span>
                    <span class="option-text">–í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ</span>
                </div>
            </div>
            
            <div class="debug-info" id="debug-info">
                <strong>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br>
                –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏
            </div>
        </div>
        
        <div class="universal-card" style="margin-top: 2rem;">
            <h3>–°–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–ø—Ü–∏–π</h3>
            
            <h4>–û–±—ã—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</h4>
            <div class="test-options">
                <div class="test-option">
                    <span class="option-letter">A</span>
                    <span class="option-text">–û–±—ã—á–Ω–∞—è –æ–ø—Ü–∏—è</span>
                </div>
            </div>
            
            <h4>–í—ã–±—Ä–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è:</h4>
            <div class="test-options">
                <div class="test-option selected">
                    <span class="option-letter">B</span>
                    <span class="option-text">–í—ã–±—Ä–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è</span>
                </div>
            </div>
            
            <h4>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</h4>
            <div class="test-options">
                <div class="test-option correct">
                    <span class="option-letter">C</span>
                    <span class="option-text">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</span>
                </div>
            </div>
            
            <h4>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</h4>
            <div class="test-options">
                <div class="test-option incorrect">
                    <span class="option-letter">D</span>
                    <span class="option-text">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–æ–≤—ã–º –æ–ø—Ü–∏—è–º —Å –æ—Ç–ª–∞–¥–∫–æ–π
        document.querySelectorAll('.test-option').forEach(option => {
            option.addEventListener('click', function() {
                const debugInfo = document.getElementById('debug-info');
                const allOptions = this.closest('.test-options').querySelectorAll('.test-option');
                
                // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ
                allOptions.forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
                this.classList.add('selected');
                
                // –ò–º–∏—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                setTimeout(() => {
                    const isCorrect = this.dataset.correct === 'true';
                    
                    allOptions.forEach(opt => {
                        opt.style.pointerEvents = 'none';
                        
                        if (opt.dataset.correct === 'true') {
                            opt.classList.add('correct');
                        } else if (opt.classList.contains('selected') && !isCorrect) {
                            opt.classList.add('incorrect');
                        }
                    });
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                    debugInfo.innerHTML = `
                        <strong>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br>
                        –í—ã–±—Ä–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è: ${this.querySelector('.option-text').textContent}<br>
                        data-correct: "${this.dataset.correct}"<br>
                        isCorrect: ${isCorrect}<br>
                        –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–¥—Å–≤–µ—á–µ–Ω: ${isCorrect ? '–∑–µ–ª–µ–Ω—ã–º' : '–∑–µ–ª–µ–Ω—ã–º (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π) + –∫—Ä–∞—Å–Ω—ã–º (–≤—ã–±—Ä–∞–Ω–Ω—ã–π)'}
                    `;
                }, 200);
            });
        });
    </script>
</body>
</html> 