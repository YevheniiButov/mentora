<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç —Ç–µ–º</title>
    
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- –¢–û–õ–¨–ö–û –°–ò–°–¢–ï–ú–ê –¢–ï–ú -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/themes/themes.css') }}">
    
    <style>
        /* –ü—Ä–æ—Å—Ç—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: var(--bg-surface);
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }
        
        .test-card {
            background: var(--theme-surface);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid var(--theme-border);
            color: var(--theme-text);
        }
        
        .test-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        
        .test-button:hover {
            background: var(--primary-dark);
        }
        
        .current-theme {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé® –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Ç–µ–º</h1>
        
        <div class="test-card">
            <h3>–¢–µ–∫—É—â–∞—è —Ç–µ–º–∞: <span class="current-theme" id="current-theme">–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ</span></h3>
            <p>–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã.</p>
            <p>–§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å—Å—è.</p>
        </div>
        
        <div class="test-card">
            <h3>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Ç–µ–º:</h3>
            <button class="test-button" onclick="switchTheme('light')">
                <i class="bi bi-sun"></i> –°–≤–µ—Ç–ª–∞—è
            </button>
            <button class="test-button" onclick="switchTheme('dark')">
                <i class="bi bi-moon"></i> –¢–µ–º–Ω–∞—è
            </button>
            <button class="test-button" onclick="switchTheme('gradient')">
                <i class="bi bi-droplet"></i> –°—Ç–µ–∫–ª—è–Ω–Ω–∞—è
            </button>
        </div>
        
        <div class="test-card">
            <h3>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
            <div id="debug-info">
                <p>HTML data-theme: <span id="html-theme">‚Äî</span></p>
                <p>LocalStorage theme: <span id="storage-theme">‚Äî</span></p>
                <p>Computed --bg-gradient: <span id="computed-bg">‚Äî</span></p>
                <p>Computed --text-primary: <span id="computed-text">‚Äî</span></p>
            </div>
        </div>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–º
        function switchTheme(themeName) {
            console.log('Switching to theme:', themeName);
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç
            document.documentElement.setAttribute('data-theme', themeName);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º
            localStorage.setItem('theme', themeName);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateDebugInfo();
        }
        
        function updateDebugInfo() {
            const htmlTheme = document.documentElement.getAttribute('data-theme') || 'none';
            const storageTheme = localStorage.getItem('theme') || 'none';
            
            document.getElementById('current-theme').textContent = htmlTheme;
            document.getElementById('html-theme').textContent = htmlTheme;
            document.getElementById('storage-theme').textContent = storageTheme;
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏
            const computedStyle = getComputedStyle(document.documentElement);
            const bgGradient = computedStyle.getPropertyValue('--bg-gradient').trim();
            const textPrimary = computedStyle.getPropertyValue('--text-primary').trim();
            
            document.getElementById('computed-bg').textContent = bgGradient || '–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ';
            document.getElementById('computed-text').textContent = textPrimary || '–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ';
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            switchTheme(savedTheme);
        });
    </script>
</body>
</html> 