{% extends "mobile_base.html" %}

{% block title %}404 - Page Not Found | Dental Academy{% endblock %}

{% block page_styles %}
.error-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: calc(100vh - 140px);
    padding: 2rem 1rem;
    text-align: center;
}

.error-animation {
    position: relative;
    margin-bottom: 2rem;
    animation: float 3s ease-in-out infinite;
}

.error-tooth {
    font-size: 8rem;
    color: rgba(255, 255, 255, 0.8);
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
    animation: wobble 2s ease-in-out infinite;
}

.error-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--primary);
    text-shadow: 0 0 20px rgba(62, 205, 193, 0.5);
    animation: glow 2s ease-in-out infinite alternate;
}

.error-card {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 24px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    max-width: 400px;
    width: 100%;
}

.error-title {
    color: white;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    animation: slideInUp 0.8s ease-out;
}

.error-message {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: 2rem;
    animation: slideInUp 0.8s ease-out 0.2s both;
}

.action-buttons {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    animation: slideInUp 0.8s ease-out 0.4s both;
}

.action-btn {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    border: none;
    border-radius: 16px;
    padding: 1rem 2rem;
    color: white;
    font-weight: 600;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(62, 205, 193, 0.3);
}

.action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(62, 205, 193, 0.4);
    color: white;
}

.action-btn.secondary {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: none;
}

.action-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.2);
}

.fun-fact {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 1rem;
    margin-top: 1rem;
    animation: slideInUp 0.8s ease-out 0.6s both;
}

.fun-fact-title {
    color: var(--primary);
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.fun-fact-text {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
    line-height: 1.5;
}

.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
}

.floating-tooth {
    position: absolute;
    color: rgba(255, 255, 255, 0.1);
    font-size: 2rem;
    animation: floatAround 15s linear infinite;
}

.floating-tooth:nth-child(1) {
    top: 10%;
    left: 10%;
    animation-delay: 0s;
}

.floating-tooth:nth-child(2) {
    top: 20%;
    right: 15%;
    animation-delay: 3s;
}

.floating-tooth:nth-child(3) {
    bottom: 30%;
    left: 20%;
    animation-delay: 6s;
}

.floating-tooth:nth-child(4) {
    bottom: 20%;
    right: 10%;
    animation-delay: 9s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

@keyframes wobble {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
}

@keyframes glow {
    from { text-shadow: 0 0 20px rgba(62, 205, 193, 0.5); }
    to { text-shadow: 0 0 30px rgba(62, 205, 193, 0.8), 0 0 40px rgba(62, 205, 193, 0.6); }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes floatAround {
    0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 0.1;
    }
    25% {
        transform: translate(100px, -50px) rotate(90deg);
        opacity: 0.3;
    }
    50% {
        transform: translate(-50px, -100px) rotate(180deg);
        opacity: 0.1;
    }
    75% {
        transform: translate(-100px, 50px) rotate(270deg);
        opacity: 0.3;
    }
    100% {
        transform: translate(0, 0) rotate(360deg);
        opacity: 0.1;
    }
}

.shake-btn {
    animation: shake 0.5s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* Темная тема */
[data-theme="dark"] .error-card {
    background: rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .fun-fact {
    background: rgba(0, 0, 0, 0.2);
}
{% endblock %}

{% block header_left %}
<button class="theme-toggle" onclick="history.back()">
    <i class="bi bi-arrow-left"></i>
</button>
{% endblock %}

{% block content %}
<div class="error-container">
    <!-- Floating Background Elements -->
    <div class="floating-elements">
        <div class="floating-tooth">🦷</div>
        <div class="floating-tooth">🦷</div>
        <div class="floating-tooth">🦷</div>
        <div class="floating-tooth">🦷</div>
    </div>

    <!-- Main Error Animation -->
    <div class="error-animation">
        <div class="error-tooth">🦷</div>
        <div class="error-number">404</div>
    </div>

    <!-- Error Information Card -->
    <div class="error-card">
        <h1 class="error-title">
            {% if current_language == 'ru' %}
                Страница не найдена
            {% elif current_language == 'nl' %}
                Pagina niet gevonden
            {% elif current_language == 'uk' %}
                Сторінка не знайдена
            {% elif current_language == 'es' %}
                Página no encontrada
            {% elif current_language == 'pt' %}
                Página não encontrada
            {% elif current_language == 'tr' %}
                Sayfa bulunamadı
            {% elif current_language == 'fa' %}
                صفحه پیدا نشد
            {% else %}
                Page Not Found
            {% endif %}
        </h1>

        <p class="error-message">
            {% if current_language == 'ru' %}
                Похоже, эта страница потерялась так же, как зуб мудрости! Но не волнуйтесь, мы поможем вам найти то, что нужно.
            {% elif current_language == 'nl' %}
                Het lijkt erop dat deze pagina verloren is gegaan zoals een verstandskies! Maar maak je geen zorgen, we helpen je vinden wat je zoekt.
            {% elif current_language == 'uk' %}
                Схоже, ця сторінка загубилася так само, як зуб мудрості! Але не хвилюйтеся, ми допоможемо вам знайти те, що потрібно.
            {% elif current_language == 'es' %}
                ¡Parece que esta página se perdió como una muela del juicio! Pero no te preocupes, te ayudaremos a encontrar lo que buscas.
            {% elif current_language == 'pt' %}
                Parece que esta página se perdeu como um dente do siso! Mas não se preocupe, vamos ajudá-lo a encontrar o que procura.
            {% elif current_language == 'tr' %}
                Bu sayfa bir akıl dişi gibi kaybolmuş gibi görünüyor! Ama endişelenmeyin, aradığınızı bulmanıza yardımcı olacağız.
            {% elif current_language == 'fa' %}
                به نظر می‌رسد این صفحه مثل دندان عقل گم شده! اما نگران نباشید، کمکتان می‌کنیم چیزی که می‌خواهید را پیدا کنید.
            {% else %}
                Looks like this page got lost like a wisdom tooth! But don't worry, we'll help you find what you're looking for.
            {% endif %}
        </p>

        <div class="action-buttons">
            <a href="{{ url_for('mobile.welcome', lang=current_language or 'en') }}" class="action-btn">
                <i class="bi bi-house-fill"></i>
                {% if current_language == 'ru' %}
                    На главную
                {% elif current_language == 'nl' %}
                    Naar home
                {% elif current_language == 'uk' %}
                    На головну
                {% elif current_language == 'es' %}
                    Ir a inicio
                {% elif current_language == 'pt' %}
                    Ir para casa
                {% elif current_language == 'tr' %}
                    Ana sayfaya git
                {% elif current_language == 'fa' %}
                    برو به خانه
                {% else %}
                    Go Home
                {% endif %}
            </a>

            <a href="{{ url_for('mobile.learning_map', lang=current_language or 'en') }}" class="action-btn secondary">
                <i class="bi bi-map"></i>
                {% if current_language == 'ru' %}
                    Карта обучения
                {% elif current_language == 'nl' %}
                    Leerkaart
                {% elif current_language == 'uk' %}
                    Карта навчання
                {% elif current_language == 'es' %}
                    Mapa de aprendizaje
                {% elif current_language == 'pt' %}
                    Mapa de aprendizagem
                {% elif current_language == 'tr' %}
                    Öğrenme haritası
                {% elif current_language == 'fa' %}
                    نقشه یادگیری
                {% else %}
                    Learning Map
                {% endif %}
            </a>

            <button class="action-btn secondary" onclick="searchAlternatives()" id="searchBtn">
                <i class="bi bi-search"></i>
                {% if current_language == 'ru' %}
                    Помочь найти
                {% elif current_language == 'nl' %}
                    Help zoeken
                {% elif current_language == 'uk' %}
                    Допомогти знайти
                {% elif current_language == 'es' %}
                    Ayudar a encontrar
                {% elif current_language == 'pt' %}
                    Ajudar a encontrar
                {% elif current_language == 'tr' %}
                    Bulmaya yardım et
                {% elif current_language == 'fa' %}
                    کمک برای پیدا کردن
                {% else %}
                    Help Find
                {% endif %}
            </button>
        </div>

        <!-- Fun Dental Fact -->
        <div class="fun-fact">
            <div class="fun-fact-title">
                {% if current_language == 'ru' %}
                    💡 Знаете ли вы?
                {% elif current_language == 'nl' %}
                    💡 Wist je dat?
                {% elif current_language == 'uk' %}
                    💡 Чи знаєте ви?
                {% elif current_language == 'es' %}
                    💡 ¿Sabías que?
                {% elif current_language == 'pt' %}
                    💡 Você sabia?
                {% elif current_language == 'tr' %}
                    💡 Biliyor muydunuz?
                {% elif current_language == 'fa' %}
                    💡 آیا می‌دانستید؟
                {% else %}
                    💡 Did you know?
                {% endif %}
            </div>
            <div class="fun-fact-text" id="funFact">
                {% if current_language == 'ru' %}
                    Зубы - единственная часть человеческого тела, которая не может самовосстанавливаться!
                {% elif current_language == 'nl' %}
                    Tanden zijn het enige deel van het menselijk lichaam dat zichzelf niet kan genezen!
                {% elif current_language == 'uk' %}
                    Зуби - єдина частина людського тіла, яка не може самовідновлюватися!
                {% elif current_language == 'es' %}
                    ¡Los dientes son la única parte del cuerpo humano que no puede curarse a sí misma!
                {% elif current_language == 'pt' %}
                    Os dentes são a única parte do corpo humano que não pode se curar!
                {% elif current_language == 'tr' %}
                    Dişler, kendisini iyileştiremeyen insan vücudunun tek parçasıdır!
                {% elif current_language == 'fa' %}
                    دندان‌ها تنها بخشی از بدن انسان هستند که نمی‌توانند خود را ترمیم کنند!
                {% else %}
                    Teeth are the only part of the human body that cannot heal themselves!
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block nav_items %}
<a href="{{ url_for('mobile.welcome', lang=current_language or 'en') }}" class="nav-item active">
    <div class="nav-icon">
        <i class="bi bi-house-fill"></i>
    </div>
    <span class="nav-label">Home</span>
</a>
<a href="{{ url_for('mobile.learning_map', lang=current_language or 'en') }}" class="nav-item">
    <div class="nav-icon">
        <i class="bi bi-map"></i>
    </div>
    <span class="nav-label">Learn</span>
</a>
<a href="{{ url_for('ai.mobile_chat', lang=current_language or 'en') }}" class="nav-item">
    <div class="nav-icon">
        <i class="bi bi-chat-dots"></i>
    </div>
    <span class="nav-label">AI Help</span>
</a>
<a href="#" class="nav-item" onclick="reportProblem()">
    <div class="nav-icon">
        <i class="bi bi-flag"></i>
    </div>
    <span class="nav-label">Report</span>
</a>
{% endblock %}

{% block extra_js %}
<script>
// Массивы фактов для разных языков
const dentalFacts = {
    'en': [
        "Teeth are the only part of the human body that cannot heal themselves!",
        "Your mouth produces about 25,000 gallons of saliva in a lifetime!",
        "Tooth enamel is the hardest substance in the human body!",
        "Humans have only 2 sets of teeth in their entire lifetime!",
        "Your teeth are as unique as your fingerprints!"
    ],
    'ru': [
        "Зубы - единственная часть человеческого тела, которая не может самовосстанавливаться!",
        "Ваш рот производит около 95 000 литров слюны за всю жизнь!",
        "Зубная эмаль - самое твердое вещество в человеческом теле!",
        "У людей есть только 2 набора зубов за всю жизнь!",
        "Ваши зубы так же уникальны, как отпечатки пальцев!"
    ],
    'nl': [
        "Tanden zijn het enige deel van het menselijk lichaam dat zichzelf niet kan genezen!",
        "Je mond produceert ongeveer 95.000 liter speeksel in een leven!",
        "Tandglazuur is de hardste stof in het menselijk lichaam!",
        "Mensen hebben maar 2 sets tanden in hun hele leven!",
        "Je tanden zijn net zo uniek als je vingerafdrukken!"
    ]
};

function searchAlternatives() {
    const btn = document.getElementById('searchBtn');
    btn.classList.add('shake-btn');
    
    setTimeout(() => {
        btn.classList.remove('shake-btn');
        // Показываем случайный факт
        showRandomFact();
    }, 500);
}

function showRandomFact() {
    const lang = '{{ current_language or "en" }}';
    const facts = dentalFacts[lang] || dentalFacts['en'];
    const randomFact = facts[Math.floor(Math.random() * facts.length)];
    
    const factElement = document.getElementById('funFact');
    factElement.style.opacity = '0';
    
    setTimeout(() => {
        factElement.textContent = randomFact;
        factElement.style.opacity = '1';
    }, 300);
}

function reportProblem() {
    // Тряска кнопки для фидбека
    const reportBtn = document.querySelector('[onclick="reportProblem()"]');
    reportBtn.classList.add('shake-btn');
    
    setTimeout(() => {
        reportBtn.classList.remove('shake-btn');
        
        // Можно добавить реальную функциональность отправки отчета
        alert('{% if current_language == "ru" %}Спасибо за сообщение! Мы изучим проблему.{% elif current_language == "nl" %}Bedankt voor je melding! We onderzoeken het probleem.{% else %}Thanks for reporting! We'll investigate the issue.{% endif %}');
    }, 500);
}

// Автоматическая смена фактов каждые 10 секунд
setInterval(showRandomFact, 10000);

// Добавляем интерактивность к зубу
document.querySelector('.error-tooth').addEventListener('click', function() {
    this.style.animation = 'wobble 0.5s ease-in-out';
    setTimeout(() => {
        this.style.animation = 'wobble 2s ease-in-out infinite';
    }, 500);
});
</script>
{% endblock %} 